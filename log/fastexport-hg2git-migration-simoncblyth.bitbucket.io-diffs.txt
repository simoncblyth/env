fastexport-hg2git-migration-simoncblyth.bitbucket.io-diffs
=============================================================


Compare fresh clone hg with the git migrated repo
--------------------------------------------------

::

    epsilon:fast-export.operations blyth$ diff -r --brief simoncblyth.bitbucket.io_hg simoncblyth.bitbucket.io
    Only in simoncblyth.bitbucket.io: .git
    Only in simoncblyth.bitbucket.io_hg: .hg
    epsilon:fast-export.operations blyth$ 



Clean old working copy 
-----------------------

::

    epsilon:~ blyth$ find simoncblyth.bitbucket.io_old_hg -name .DS_Store -exec rm {} \;


::

    epsilon:~ blyth$ diff -r --brief simoncblyth.bitbucket.io_old_hg simoncblyth.bitbucket.io
    Only in simoncblyth.bitbucket.io: .git
    Only in simoncblyth.bitbucket.io_old_hg: .hg
    Only in simoncblyth.bitbucket.io_old_hg/env/Documents/Geant4OpticksWorkflow: Geant4OpticksWorkflow1.001.png
    Only in simoncblyth.bitbucket.io_old_hg/env/Documents/Geant4OpticksWorkflow: Geant4OpticksWorkflow1_001.png
    Only in simoncblyth.bitbucket.io_old_hg/env/Documents/Geant4OpticksWorkflow: Geant4OpticksWorkflow_001.png
    Only in simoncblyth.bitbucket.io_old_hg/env/muon_simulation/presentation: gpu_optical_photon_simulation
    Only in simoncblyth.bitbucket.io_old_hg/env/notes/presentation: history
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: gpu_accelerated_geant4_simulation
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: ibd
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: optical_photon_simulation_with_nvidia_optix
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_dec2019_gtc_china_suzhou_TALK.html
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_dec2019_gtc_china_suzhou_TALK.txt
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_dec2019_ihep_epd_seminar_TALK.html
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_dec2019_ihep_epd_seminar_TALK.txt
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_may2016_lecospa
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_psroc
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_nov2019_chep_TALK.html
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_nov2019_chep_TALK.txt
    Only in simoncblyth.bitbucket.io_old_hg/heprez/notes: _images
    Only in simoncblyth.bitbucket.io_old_hg/opticks: .doctrees
    Only in simoncblyth.bitbucket.io_old_hg/opticks/_sources: integration
    Only in simoncblyth.bitbucket.io_old_hg/opticks: integration
    Only in simoncblyth.bitbucket.io_old_hg/opticks_notes: .doctrees
    Only in simoncblyth.bitbucket.io_old_hg/workflow: reports
    epsilon:~ blyth$ 


Oops omitted to commit a few things::

    epsilon:simoncblyth.bitbucket.io_old_hg blyth$ hg st .

    ## these 9 are missing 

    ? env/Documents/Geant4OpticksWorkflow/Geant4OpticksWorkflow1.001.png
    ? env/Documents/Geant4OpticksWorkflow/Geant4OpticksWorkflow1_001.png
    ? env/Documents/Geant4OpticksWorkflow/Geant4OpticksWorkflow_001.png
    ? env/presentation/opticks_gpu_optical_photon_simulation_dec2019_gtc_china_suzhou_TALK.html
    ? env/presentation/opticks_gpu_optical_photon_simulation_dec2019_gtc_china_suzhou_TALK.txt
    ? env/presentation/opticks_gpu_optical_photon_simulation_dec2019_ihep_epd_seminar_TALK.html
    ? env/presentation/opticks_gpu_optical_photon_simulation_dec2019_ihep_epd_seminar_TALK.txt
    ? env/presentation/opticks_nov2019_chep_TALK.html
    ? env/presentation/opticks_nov2019_chep_TALK.txt

    ## the below ones will get generated by a documentation run from ~/opticks
    ? opticks/_sources/integration/tests/index.rst.txt
    ? opticks/_sources/integration/tests/overview.rst.txt
    ? opticks/_sources/integration/tests/tbox.rst.txt
    ? opticks/_sources/integration/tests/tg4gun.rst.txt
    ? opticks/_sources/integration/tests/tlens.rst.txt
    ? opticks/_sources/integration/tests/tnewton.rst.txt
    ? opticks/_sources/integration/tests/tpmt.rst.txt
    ? opticks/_sources/integration/tests/tprism.rst.txt
    ? opticks/_sources/integration/tests/trainbow.rst.txt
    ? opticks/_sources/integration/tests/treflect.rst.txt
    ? opticks/_sources/integration/tests/ttemplate.rst.txt
    ? opticks/_sources/integration/tests/tviz.rst.txt
    ? opticks/_sources/integration/tests/twhite.rst.txt
    ? opticks/integration/tests/index.html
    ? opticks/integration/tests/overview.html
    ? opticks/integration/tests/tbox.html
    ? opticks/integration/tests/tg4gun.html
    ? opticks/integration/tests/tlens.html
    ? opticks/integration/tests/tnewton.html
    ? opticks/integration/tests/tpmt.html
    ? opticks/integration/tests/tprism.html
    ? opticks/integration/tests/trainbow.html
    ? opticks/integration/tests/treflect.html
    ? opticks/integration/tests/ttemplate.html
    ? opticks/integration/tests/tviz.html
    ? opticks/integration/tests/twhite.html
    epsilon:simoncblyth.bitbucket.io_old_hg blyth$ 


The links are workarounds for the keynote export file naming causing problems for scripts perhaps::

    epsilon:Geant4OpticksWorkflow blyth$ l
    total 968
    lrwxr-xr-x  1 blyth  staff      30 Feb 25 09:17 Geant4OpticksWorkflow1_001.png -> Geant4OpticksWorkflow1.001.png
    -rw-r--r--@ 1 blyth  staff  241294 Feb 25 09:16 Geant4OpticksWorkflow1.001.png
    lrwxr-xr-x  1 blyth  staff      29 Feb 25 09:07 Geant4OpticksWorkflow_001.png -> Geant4OpticksWorkflow.001.png
    -rw-r--r--@ 1 blyth  staff  251585 Oct 21  2019 Geant4OpticksWorkflow.001.png
    epsilon:Geant4OpticksWorkflow blyth$ pwd
    /Users/blyth/simoncblyth.bitbucket.io_old_hg/env/Documents/Geant4OpticksWorkflow

::

    epsilon:Geant4OpticksWorkflow blyth$ pwd
    /Users/blyth/simoncblyth.bitbucket.io_old_hg/env/Documents/Geant4OpticksWorkflow
    epsilon:Geant4OpticksWorkflow blyth$ cd ${PWD/_old_hg}
    epsilon:Geant4OpticksWorkflow blyth$ pwd
    /Users/blyth/simoncblyth.bitbucket.io/env/Documents/Geant4OpticksWorkflow

::

    epsilon:Geant4OpticksWorkflow blyth$ open Geant4OpticksWorkflow.001.png
    epsilon:Geant4OpticksWorkflow blyth$ open Geant4OpticksWorkflow1.001.png
    epsilon:Geant4OpticksWorkflow blyth$ open Geant4OpticksWorkflow.001.png
    epsilon:Geant4OpticksWorkflow blyth$ 
    epsilon:Geant4OpticksWorkflow blyth$ ln -s Geant4OpticksWorkflow.001.png Geant4OpticksWorkflow_001.png
    epsilon:Geant4OpticksWorkflow blyth$ ln -s Geant4OpticksWorkflow1.001.png Geant4OpticksWorkflow1_001.png
    epsilon:Geant4OpticksWorkflow blyth$ l
    total 968
    lrwxr-xr-x  1 blyth  staff      30 May 17 12:02 Geant4OpticksWorkflow1_001.png -> Geant4OpticksWorkflow1.001.png
    lrwxr-xr-x  1 blyth  staff      29 May 17 12:02 Geant4OpticksWorkflow_001.png -> Geant4OpticksWorkflow.001.png
    -rw-r--r--@ 1 blyth  staff  241294 May 17 11:53 Geant4OpticksWorkflow1.001.png
    -rw-r--r--@ 1 blyth  staff  251585 May 16 21:07 Geant4OpticksWorkflow.001.png
    epsilon:Geant4OpticksWorkflow blyth$ pwd
    /Users/blyth/simoncblyth.bitbucket.io/env/Documents/Geant4OpticksWorkflow
    epsilon:Geant4OpticksWorkflow blyth$ 


::

    epsilon:~ blyth$ find simoncblyth.bitbucket.io_old_hg -type d -empty 
    simoncblyth.bitbucket.io_old_hg/heprez/notes/_images
    simoncblyth.bitbucket.io_old_hg/env/muon_simulation/presentation/gpu_optical_photon_simulation
    simoncblyth.bitbucket.io_old_hg/env/notes/presentation/history
    simoncblyth.bitbucket.io_old_hg/env/presentation/optical_photon_simulation_with_nvidia_optix
    simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_gpu_optical_photon_simulation_psroc
    simoncblyth.bitbucket.io_old_hg/env/presentation/ibd
    simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_gpu_optical_photon_simulation_may2016_lecospa
    simoncblyth.bitbucket.io_old_hg/env/presentation/gpu_accelerated_geant4_simulation
    simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_gpu_optical_photon_simulation
    simoncblyth.bitbucket.io_old_hg/workflow/reports
    epsilon:~ blyth$ 

Remove the empty dirs::

    epsilon:~ blyth$ find simoncblyth.bitbucket.io_old_hg -type d -empty -exec rm -rf {} \;
    find: simoncblyth.bitbucket.io_old_hg/heprez/notes/_images: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/env/muon_simulation/presentation/gpu_optical_photon_simulation: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/env/notes/presentation/history: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/env/presentation/optical_photon_simulation_with_nvidia_optix: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_gpu_optical_photon_simulation_psroc: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/env/presentation/ibd: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_gpu_optical_photon_simulation_may2016_lecospa: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/env/presentation/gpu_accelerated_geant4_simulation: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_gpu_optical_photon_simulation: No such file or directory
    find: simoncblyth.bitbucket.io_old_hg/workflow/reports: No such file or directory
    epsilon:~ blyth$ 
    epsilon:~ blyth$ 
    epsilon:~ blyth$ find simoncblyth.bitbucket.io_old_hg -type d -empty 
    epsilon:~ blyth$ 



The below html and txt just need to be copues over:

    epsilon:~ blyth$ diff -r --brief simoncblyth.bitbucket.io_old_hg simoncblyth.bitbucket.io
    Only in simoncblyth.bitbucket.io: .git
    Only in simoncblyth.bitbucket.io_old_hg: .hg
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_dec2019_gtc_china_suzhou_TALK.html
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_dec2019_gtc_china_suzhou_TALK.txt
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_dec2019_ihep_epd_seminar_TALK.html
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_gpu_optical_photon_simulation_dec2019_ihep_epd_seminar_TALK.txt
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_nov2019_chep_TALK.html
    Only in simoncblyth.bitbucket.io_old_hg/env/presentation: opticks_nov2019_chep_TALK.txt

    Only in simoncblyth.bitbucket.io_old_hg/opticks: .doctrees
    Only in simoncblyth.bitbucket.io_old_hg/opticks/_sources: integration
    Only in simoncblyth.bitbucket.io_old_hg/opticks: integration
    Only in simoncblyth.bitbucket.io_old_hg/opticks_notes: .doctrees
    epsilon:~ blyth$ 

::

     cp simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_gpu_optical_photon_simulation_dec2019_gtc_china_suzhou_TALK.{txt,html} simoncblyth.bitbucket.io/env/presentation/
     cp simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_gpu_optical_photon_simulation_dec2019_ihep_epd_seminar_TALK.{txt,html} simoncblyth.bitbucket.io/env/presentation/ 
     cp simoncblyth.bitbucket.io_old_hg/env/presentation/opticks_nov2019_chep_TALK.{txt,html} simoncblyth.bitbucket.io/env/presentation/


::

    epsilon:~ blyth$ diff -r --brief simoncblyth.bitbucket.io_old_hg simoncblyth.bitbucket.io
    Only in simoncblyth.bitbucket.io: .git
    Only in simoncblyth.bitbucket.io_old_hg: .hg
    Only in simoncblyth.bitbucket.io_old_hg/opticks/_sources: integration
    Only in simoncblyth.bitbucket.io_old_hg/opticks: integration

    Only in simoncblyth.bitbucket.io_old_hg/opticks: .doctrees
    Only in simoncblyth.bitbucket.io_old_hg/opticks_notes: .doctrees
         ## the .doctrees are generetaed by documentation runs

::

    epsilon:~ blyth$ find simoncblyth.bitbucket.io_old_hg -name .doctrees
    simoncblyth.bitbucket.io_old_hg/opticks/.doctrees
    simoncblyth.bitbucket.io_old_hg/opticks_notes/.doctrees
    epsilon:~ blyth$ 

::

    epsilon:~ blyth$ l simoncblyth.bitbucket.io_old_hg/opticks/integration/tests/
    total 232
    -rw-r--r--  1 blyth  staff   4082 Apr 27 12:29 twhite.html
    -rw-r--r--  1 blyth  staff   6012 Apr 27 12:29 tviz.html
    -rw-r--r--  1 blyth  staff   4202 Apr 27 12:29 ttemplate.html
    -rw-r--r--  1 blyth  staff   4703 Apr 27 12:29 treflect.html
    -rw-r--r--  1 blyth  staff   5865 Apr 27 12:29 trainbow.html
    -rw-r--r--  1 blyth  staff   5466 Apr 27 12:29 tprism.html
    -rw-r--r--  1 blyth  staff   7357 Apr 27 12:29 tpmt.html
    -rw-r--r--  1 blyth  staff   4036 Apr 27 12:29 tnewton.html
    -rw-r--r--  1 blyth  staff   6773 Apr 27 12:29 tlens.html
    -rw-r--r--  1 blyth  staff   5530 Apr 27 12:29 tg4gun.html
    -rw-r--r--  1 blyth  staff   4224 Apr 27 12:29 tbox.html
    -rw-r--r--  1 blyth  staff  21112 Apr 27 12:29 overview.html
    -rw-r--r--  1 blyth  staff   8229 Apr 27 12:29 index.html
    epsilon:~ blyth$ 



Build the docs::

    cd ~/opticks
    make

Now a great many differences from sphinx version and generated doctree files::

    epsilon:~ blyth$ diff -r --brief simoncblyth.bitbucket.io_old_hg simoncblyth.bitbucket.io
    Only in simoncblyth.bitbucket.io: .git
    Only in simoncblyth.bitbucket.io_old_hg: .hg
    Files simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/README.doctree and simoncblyth.bitbucket.io/opticks/.doctrees/README.doctree differ
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: PropLib.doctree
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: ana.doctree
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: pmt_skimmer.doctree
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: pmt_test.doctree
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: pmt_test_debug.doctree
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: pmt_test_distrib.doctree
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: pmt_test_evt.doctree
    Only in simoncblyth.bitbucket.io/opticks/.doctrees/ana: proplib.doctree
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: rainbow_cfg4.doctree
    Files simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana/rainbow_cfg4_notes.doctree and simoncblyth.bitbucket.io/opticks/.doctrees/ana/rainbow_cfg4_notes.doctree differ
    Only in simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana: source.doctree
    Files simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana/source_debug.doctree and simoncblyth.bitbucket.io/opticks/.doctrees/ana/source_debug.doctree differ
    Files simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana/tools.doctree and simoncblyth.bitbucket.io/opticks/.doctrees/ana/tools.doctree differ
    Files simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana/tpmt.doctree and simoncblyth.bitbucket.io/opticks/.doctrees/ana/tpmt.doctree differ
    Files simoncblyth.bitbucket.io_old_hg/opticks/.doctrees/ana/tpmt_skimmer.doctree and simoncblyth.bitbucket.io/opticks/.doctrees/ana/tpmt_skimmer.doctree differ



Bring over the ignores into ~/simoncblyth.bitbucket.io/.gitignore from ~/simoncblyth.bitbucket.io_old_hg/.hgignore::

  1 # use glob syntax.
  2 syntax: glob
  3 
  4 .DS_Store
  5 *.pyc
  6 *.doctree
  7 *.pickle
  8 *~



